# 🚀 快速开始指南

## ⏱️ 5 分钟快速上手

### 第 1 步：打开项目 (30秒)

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择 `cs2` 文件夹
4. 填写 AppID（或使用测试号）

### 第 2 步：配置云开发 (1分钟)

1. 点击工具栏的"云开发"按钮
2. 点击"开通"（如果未开通）
3. 创建环境，记住环境 ID（如：`cloud1-xxxxx`）
4. 修改 `miniprogram/app.js`：
   ```javascript
   env: 'cloud1-xxxxx'  // 替换为你的环境 ID
   ```

### 第 3 步：创建数据库 (1分钟)

在云开发控制台 → 数据库，依次创建 6 个集合：

✅ 快速创建命令：
```
players
rooms
bp_records
matches
player_stats
elo_history
```

**权限设置**：全部选择"所有用户可读，仅创建者可写"

### 第 4 步：部署云函数 (2分钟)

对以下 6 个云函数，**依次**右键 → "上传并部署：云端安装依赖"：

```
cloudfunctions/
├── register      ← 右键上传
├── room          ← 右键上传
├── match         ← 右键上传
├── bp            ← 右键上传
├── submit        ← 右键上传
└── history       ← 右键上传
```

### 第 5 步：准备地图图片 (30秒)

在 `miniprogram/images/` 下创建 `maps` 文件夹，放入 7 张地图图片：
- inferno.jpg
- mirage.jpg
- dust2.jpg
- nuke.jpg
- overpass.jpg
- ancient.jpg
- anubis.jpg

**临时方案**：可以先使用任意图片占位，后续再替换。

---

## ✅ 完成！

点击"编译"按钮，小程序应该能正常运行了！

---

## 🧪 测试流程

### 测试 1：注册玩家

1. 首次打开会跳转到注册页面
2. 输入昵称"测试玩家1"
3. 点击注册
4. 应该跳转到大厅页面

### 测试 2：完整流程（需要 4 个账号）

1. 使用 4 个微信号分别注册
2. 所有人点击"加入房间"
3. 所有人点击"准备"
4. 系统自动匹配分队
5. 进入 BP 页面，按提示操作
6. 进入比赛录入页面
7. 填写比分和数据
8. 查看 ELO 变化

---

## 🔍 问题排查

### 问题 1：云函数调用失败

**检查**：
- 云函数是否全部部署成功？
- 环境 ID 是否配置正确？

**解决**：
```
1. 云开发控制台 → 云函数 → 查看部署状态
2. 检查 miniprogram/app.js 中的 env 配置
```

### 问题 2：注册后无法进入大厅

**检查**：
- 数据库集合是否创建？
- register 云函数是否部署成功？

**解决**：
```
1. 云开发控制台 → 数据库 → 检查集合
2. 云开发控制台 → 云函数 → register → 日志
```

### 问题 3：地图图片不显示

**检查**：
- 图片是否放在正确位置？
- 文件名是否正确？

**解决**：
```
确保：miniprogram/images/maps/inferno.jpg 等文件存在
文件名必须全小写，不能有空格
```

---

## 📚 下一步

- 📖 阅读完整 [README.md](../README.md)
- 🗄️ 查看 [数据库设计](database.md)
- 🔧 参考 [API 文档](api.md)
- 🚀 查看 [部署指南](deployment.md)
- ❓ 遇到问题看 [FAQ](FAQ.md)

---

## 🎯 提示

### 开发模式
- 使用云开发测试环境
- 可以随时清空数据重新测试
- 查看控制台日志调试

### 生产模式
- 使用正式云环境
- 定期备份数据
- 监控云函数调用次数

---

**恭喜！你已经成功部署 CS2 内战匹配系统！** 🎉

现在可以开始使用了。祝你玩得开心！

